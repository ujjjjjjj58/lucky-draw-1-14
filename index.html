
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>å°¾ç‰™æŠ½çç³»çµ±</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      text-align: center;
      background: radial-gradient(circle at top, #fff, #f2f2f2);
      padding-top: 60px;
    }
    h1 {
      font-size: 52px;
      margin-bottom: 20px;
    }
    button {
      font-size: 24px;
      padding: 15px 35px;
      margin: 15px;
      cursor: pointer;
    }
    #mode {
      font-size: 22px;
      margin-top: 10px;
      color: #555;
    }
    #result {
      font-size: 70px;
      margin: 50px 0;
      color: #c62828;
      min-height: 90px;
    }
    #log {
      margin-top: 40px;
      font-size: 18px;
      color: #444;
    }
  </style>
</head>
<body>

<h1>ğŸ‰ å°¾ç‰™æŠ½ç ğŸ‰</h1>

<div id="mode">ä¸€èˆ¬æŠ½çï¼ˆæŠ½éä¸å†æŠ½ï¼‰</div>
<div id="result">è«‹æŒ‰ä¸‹æŠ½ç</div>

<button onclick="normalDraw()">ğŸ° ä¸€èˆ¬æŠ½ç</button>
<button onclick="bonusDraw()">âœ¨ åŠ ç¢¼çï¼ˆå…¨å“¡å¯æŠ½ï¼‰</button>
<br>
<button onclick="resetDraw()">ğŸ”„ å…¨éƒ¨é‡ç½®</button>

<div id="log"></div>

<script>
  // åŸå§‹åå–®ï¼ˆä¸é¡¯ç¤ºï¼‰
  const originalPeople = [
    "æ—ç¶ºæ…§","é™³éŸ‹ä¼¶","æ—ç´«ç‘©","è¢å®‡ç‘„",
    "é»ƒéƒç¶¾","æè²ç’‡","å¼µè© çµœ","é™³å©·","æåœ‹é½Š","èŠæ˜æ˜¥","é»ƒé¾æœˆ","ç‹ç›ˆæƒ ","é™³ä¿é›¯","æ¸¸ç­±æŸ”","è³ˆç¶­å€«","ç‹ä¿¡å‰","æ–½è“‰å¹¸","é»ƒåƒå‡¡","æ—ç´”å¦‚","å³æ˜‡é”","æ—èŠŠå¦¤","é™³å¨éœ–","æ›¾éˆºå©·","æå­Ÿæ¨º","æå©‰ç‘›","é™³æƒ ç´","é™³æ›‰ä½©","ç‹è€æŸ”","æ›¾é›ªå€©","éƒ­å®‡ä»"
  ];

  // ä¸€èˆ¬æŠ½çæ± ï¼ˆæœƒç§»é™¤ï¼‰
  let remainingPeople = [...originalPeople];

  let normalWinners = [];
  let bonusWinners = [];

  function animateDraw(list, callback) {
    let count = 0;
    const interval = setInterval(() => {
      const temp = list[Math.floor(Math.random() * list.length)];
      document.getElementById("result").innerText = temp;
      count++;
      if (count > 20) {
        clearInterval(interval);
        callback();
      }
    }, 100);
  }

  function normalDraw() {
    if (remainingPeople.length === 0) {
      document.getElementById("result").innerText = "ğŸŠ ä¸€èˆ¬çå·²æŠ½å®Œ ğŸŠ";
      return;
    }
    document.getElementById("mode").innerText = "ä¸€èˆ¬æŠ½çï¼ˆæŠ½éä¸å†æŠ½ï¼‰";

    animateDraw(remainingPeople, () => {
      const index = Math.floor(Math.random() * remainingPeople.length);
      const winner = remainingPeople.splice(index, 1)[0];
      normalWinners.push(winner);
      document.getElementById("result").innerText = winner;
      updateLog();
    });
  }

  function bonusDraw() {
    document.getElementById("mode").innerText = "âœ¨ åŠ ç¢¼çï¼ˆå…¨å“¡å¯æŠ½ï¼Œä¸å½±éŸ¿å‰é¢æ©Ÿç‡ï¼‰";

    animateDraw(originalPeople, () => {
      const winner = originalPeople[Math.floor(Math.random() * originalPeople.length)];
      bonusWinners.push(winner);
      document.getElementById("result").innerText = winner;
      updateLog();
    });
  }

  function updateLog() {
    const logDiv = document.getElementById("log");
    logDiv.innerHTML = "<h3>ğŸ ä¸­çç´€éŒ„</h3>";

    if (normalWinners.length > 0) {
      logDiv.innerHTML += "<strong>ä¸€èˆ¬ç</strong><br>";
      normalWinners.forEach(name => {
        logDiv.innerHTML += name + "<br>";
      });
    }

    if (bonusWinners.length > 0) {
      logDiv.innerHTML += "<br><strong>âœ¨ åŠ ç¢¼ç</strong><br>";
      bonusWinners.forEach(name => {
        logDiv.innerHTML += name + "<br>";
      });
    }
  }

  function resetDraw() {
    remainingPeople = [...originalPeople];
    normalWinners = [];
    bonusWinners = [];
    document.getElementById("mode").innerText = "ä¸€èˆ¬æŠ½çï¼ˆæŠ½éä¸å†æŠ½ï¼‰";
    document.getElementById("result").innerText = "è«‹æŒ‰ä¸‹æŠ½ç";
    document.getElementById("log").innerHTML = "";
  }
</script>

</body>
</html>
